import sys
from collections import defaultdict
sys.setrecursionlimit(10 ** 6)#!/usr/bin/env python3


# Generated by 2.13.0 https://github.com/kyuridenamida/atcoder-tools  (tips: You use the default template now. You can remove this line by using your custom template)
def main():
    # Failed to predict input format
    N = int(input())
    A = list(map(lambda x: int(x), input().split()))

    a_dict = {i + 1: a for i, a in enumerate(A)}

    ans = [None] * N
    pos = defaultdict(lambda: None)

    def dfs(value, i):
        nonlocal ans
        if value == -1:
            ans[0] = i
            pos[i] = 0
            return

        if pos[value] is None:
            dfs(a_dict[value], value)

        pos[i] = pos[value] + 1
        ans[pos[i]] = i

    for i, a in enumerate(A):
        i += 1
        if pos[i] is None:
            dfs(a, i)
    print(*ans)




if __name__ == '__main__':
    main()
