#!/usr/bin/env python3


# Generated by 2.12.0 https://github.com/kyuridenamida/atcoder-tools  (tips: You use the default template now. You can remove this line by using your custom template)
def main():
    N, K, P = map(int, input().split())

    C, A = [], []
    for _ in range(N):
        line = list(map(int, input().split()))
        C.append(line[0])
        A.append(line[1:])

    dps = [[[float("INF")] * (N + 1) for _ in range(P + 1)] for _ in range(K)]

    for i in range(3):
        dps[i][0][0] = 0

    for idx in range(K):
        for i in range(N):
            for j in range(P):
                cost = C[i]
                param = A[i][idx] + j

                dps[idx][j][i + 1] = min(dps[idx][j][i + 1], dps[idx][j][i])
                if param <= P:
                    dps[idx][param][i + 1] = min(dps[idx][param][i + 1],
                                                 dps[idx][j][i] + cost)

    for a in dps[0]:
        print(a)
    print()

    for a in dps[1]:
        print(a)
    print()

    for a in dps[2]:
        print(a)
    print()

    ans_list = []
    for dp in dps:
        ans = min(dp[P])
        if ans != float("INF"):
            ans_list.append(ans)

    print(ans_list)
    if len(ans_list) == 0:
        print(-1)
    else:
        print(max(ans_list))

if __name__ == '__main__':
    main()
