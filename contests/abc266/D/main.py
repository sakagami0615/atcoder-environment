#!/usr/bin/env python3
import sys


def solve(N: int, T: "List[int]", X: "List[int]", A: "List[int]"):

    HOLE_ID = [0, 1, 2, 3, 4]
    N_HOLE = len(HOLE_ID)

    dp = [[0] * N_HOLE for _ in range(N + 1)]

    prev_t = 0
    for n in range(1, N + 1):
        t = T[n - 1]
        x = X[n - 1]
        a = A[n - 1]

        diff_t = t - prev_t
        for i in range(min(t + 1, N_HOLE)):

            range_min = max(0, i - diff_t)
            range_max = min(prev_t + 1, i + diff_t + 1)
            range_max = min(range_max, N_HOLE)

            for j in range(range_min, range_max):
                if x == i:
                    dp[n][i] = max(dp[n][i], dp[n - 1][j] + a)
                else:
                    dp[n][i] = max(dp[n][i], dp[n - 1][j])

        prev_t = t



    ans = 0
    for num in dp[-1]:
        ans = max(ans, num)

    print(ans)




# Generated by 2.12.0 https://github.com/kyuridenamida/atcoder-tools  (tips: You use the default template now. You can remove this line by using your custom template)
def main():
    def iterate_tokens():
        for line in sys.stdin:
            for word in line.split():
                yield word
    tokens = iterate_tokens()
    N = int(next(tokens))  # type: int
    T = [int()] * (N)  # type: "List[int]"
    X = [int()] * (N)  # type: "List[int]"
    A = [int()] * (N)  # type: "List[int]"
    for i in range(N):
        T[i] = int(next(tokens))
        X[i] = int(next(tokens))
        A[i] = int(next(tokens))
    solve(N, T, X, A)

if __name__ == '__main__':
    main()
